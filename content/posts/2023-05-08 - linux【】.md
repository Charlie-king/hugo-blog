---
title: "linux及各种服务折腾"
subtitle: ""
date: 2023-05-08T22:54:36+08:00

lastmod: 2023-05-08T22:54:36+08:00
draft: true
description: ""
keywords: ""
tags:
- draft
categories:
- draft
featuredImage: ""
featuredImagePreview: ""

password: ""
message: "提示信息"

author: "Kingpo"
authorLink: ""
authorEmail: ""

comment: true
weight: 0

toc:
  enable: true

seo:
  images: []
# See details front matter: /theme-documentation-content/#front-matter
---

<!--more-->
## vaultwarden
docker run -d --name vaultwarden -v /vw-data/:/data/ -p 80:80 vaultwarden/server:latest

docker run -d --name=vaultwarden -e WEBSOCKET_ENABLED=true -e LOG_FILE=/data/bitwarden.log -e ADMIN_TOKEN=5cK/YezJiTQAOcGPSU62WrsS6gsFKpOVdW4TrjbU45QVHII0YZJI/rM8IApx1Mno -p 5800:80 -p 3012:3012 -v /vw-data/:/data/ --restart=always  vaultwarden/server:latest


## 青龙
sudo docker exec -it qinglong ql repo https://github.com/smiek2221/scripts.git "jd_|gua_" "" "ZooFaker_Necklace.js|JDJRValidator_Pure.js|sign_graphics_validate.js"

sudo docker exec -it qinglong ql repo https://ghproxy.com/https://github.com/6dylan6/jdpro.git "jd_|jx_|jddj_" "backUp" "^jd[^_]|USER|JD|function|sendNotify"

sudo docker exec -it qinglong ql repo https://github.com/6dylan6/auto_comment.git "jd_" "" "jdspider"

sudo docker exec -it qinglong ql repo https://ghproxy.com/https://github.com/6dylan6/jdm.git "jd_" "" "^jd[^_]|USER|function|sendNotify|magic|h5sts"

## ddns-go
[pushplus]
https://www.pushplus.plus/send/121ec9691af94809a5431c76fd8b4b4e?content=你的最新公网IPv4地址：#{ipv4Addr} - 域名更新结果：#{ipv4Result}" - IPv6地址：#{ipv6Addr} 更新结果：#{ipv6Result}


cloudflare，aaii-token
EH5RZBxZozXmCBDhqlj3rDfuyhUDnrXvAbiAfzvz

## docker-compose
安装docker-compose
sudo curl -L "https://ghproxy.com/https://github.com/docker/compose/releases/download/v2.17.3/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose



dpkg -l|grep -i openssh-server

1. 安装虚拟机VMware17pro，激活

2. 虚拟机里安装ubuntu，下载镜像包iso，配置安装环境

3. 网络配置，仅主机模式，异常，导致时区正确但时间错误，配置网络为桥接模式（和宿主机同级网络）

4. 切换ubuntu镜像源为华为云，开启ssh

5. 共享剪切板
安装vmware tools
sudo apt install open-vm-tools
sudo apt install open-vm-tools-desktop

6. 安装ssh工具，finalshell
7.  测试路由器，光猫端口转发，未成功，

8. 配置zerorier，内网穿透，成功
https://zhuanlan.zhihu.com/p/422171986

这里以linux为例，命令安装：

```text
curl -s https://install.zerotier.com | sudo bash
```

安装完成后可以使用 systemctl 命令来控制服务：

```text
sudo systemctl enable zerotier-one.service

sudo systemctl start zerotier-one.service

sudo zerotier-cli join 17d709436cc4b024
```

查看安装的zerotier版本：

```text
sudo zerotier-cli status
```

加入一个network:

```
sudo zerotier-cli join **17d709436cc4b024**（填写自己的 networkid）
```

退出一个network:
```
sudo zerotier-cli leave **17d709436cc4b024**（networkid）
```



## 4.加入网络成功后，需要返回网页端，将设备授权接入网络


## vmware设置文件共享，自动挂载
https://blog.csdn.net/weixin_63505616/article/details/126202925

## 修改默认终端，配置zsh
https://zhuanlan.zhihu.com/p/346665734
https://www.zhihu.com/search?type=content&q=ubuntu%20%E4%BF%AE%E6%94%B9%E7%BB%88%E7%AB%AF

```text
sudo apt update
```

## 安装docker
https://www.wbolt.com/install-docker-ubuntu.html

## 配置docker国内镜像源加速
编辑文件，没有则新增
```bash
vi /etc/docker/daemon.json
```


输入保存
``` json
{
  "registry-mirrors": 
    [
     "http://hub-mirror.c.163.com", 
     "https://docker.mirrors.ustc.edu.cn",
     "https://mirror.baidubce.com", 
     "https://registry.docker-cn.com", 
     "https://reg-mirror.qiniu.com", 
     "https://dockerhub.azk8s.cn"
    ]
}
```

## ty-6201刷机
https://www.right.com.cn/forum/thread-4091793-1-1.html


## 安装Portainer
https://updayday.notion.site/LINUX-UBUNTU22-04-Portainer-DOCKER-UI-VPS-Nginx-Proxy-Manager-SSL-9fd3ce8b9582489399488f00ece6e80d


https://post.smzdm.com/p/ar678qwz/pic_8/#bigImg


wget https://ghproxy.com/https://raw.githubusercontent.com/zakaziko99/agnosterzak-ohmyzsh-theme/master/agnosterzak.zsh-theme

git clone https://ghproxy.com/https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting


git clone https://ghproxy.com/https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions

sudo curl -L "https://ghproxy.com/https://github.com/docker/compose/releases/download/v2.17.3/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

docker镜像源
{
  "registry-mirrors": [
    "https://hub-mirror.c.163.com",
    "https://mirror.baidubce.com",
    "https://registry.docker-cn.com",
    "https://reg-mirror.qiniu.com",
    "https://dockerhub.azk8s.cn",
    "https://docker.mirrors.ustc.edu.cn"
  ]
}

开启ipv6
https://post.smzdm.com/p/ar678qwz/pic_8/#bigImg

https://github.com/acmesh-official/acme.sh


wget https://ghproxy.com/https://raw.githubusercontent.com/whyour/qinglong/master/docker/docker-compose.yml


docker run -d --name vaultwarden -v /vw-data/:/data/ -p 80:80 vaultwarden/server:latest

docker run -d --name=vaultwarden -e WEBSOCKET_ENABLED=true -e LOG_FILE=/data/bitwarden.log -e ADMIN_TOKEN=5cK/YezJiTQAOcGPSU62WrsS6gsFKpOVdW4TrjbU45QVHII0YZJI/rM8IApx1Mno -p 5800:80 -p 3012:3012 -v /vw-data/:/data/ --restart=always  vaultwarden/server:latest

https://blog.gimo.me/posts/self-host-vaultwarden/